<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Study Hours Tracker</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: #f7f7f7; }
    h1 { text-align: center; }
    .container { max-width: 800px; margin: auto; background: white; padding: 20px; border-radius: 10px; }
    input, button { padding: 10px; margin: 5px; }
    table { width: 100%; margin-top: 20px; border-collapse: collapse; }
    th, td { padding: 10px; border: 1px solid #ddd; text-align: center; }
    #chart { margin-top: 30px; }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="container">
    <h1>Study Hours Tracker</h1>

    <label>Date: </label>
    <input type="date" id="dateInput" />
    <label>Hours: </label>
    <input type="number" id="hoursInput" step="0.25" />
    <button onclick="addEntry()">Add Entry</button>

    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>Hours</th>
        </tr>
      </thead>
      <tbody id="logBody"></tbody>
    </table>

    <canvas id="chart" height="120"></canvas>
  </div>

  <script>
    let log = JSON.parse(localStorage.getItem("studyLog") || "[]");

    function saveLog() {
      localStorage.setItem("studyLog", JSON.stringify(log));
    }

    function addEntry() {
      const date = document.getElementById('dateInput').value;
      const hours = parseFloat(document.getElementById('hoursInput').value);
      if (!date || !hours) return alert("Enter date and hours");
      log.push({ date, hours });
      saveLog();
      renderTable();
      renderChart();
    }

    function renderTable() {
      const body = document.getElementById('logBody');
      body.innerHTML = '';
      log.forEach(entry => {
        body.innerHTML += `<tr><td>${entry.date}</td><td>${entry.hours}</td></tr>`;
      });
    }

    function renderChart() {
      const ctx = document.getElementById('chart').getContext('2d');
      if (window.myChart) window.myChart.destroy();
      window.myChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: log.map(e => e.date),
          datasets: [{ label: 'Study Hours', data: log.map(e => e.hours) }]
        },
        options: { responsive: true }
      });
    }

    renderTable();
    renderChart();
  </script>
</body>
</html>
